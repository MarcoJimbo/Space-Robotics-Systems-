%% test trajectory
IDRA = jsondecode(fileread("IDRA.json"));
theta = [0	0.1 	0.240430418968541   0.5	   0.708359146614300 0.708359146614300	0.708359146614300; ...
-0.5	0	1.40388784741606	1.5	  1.54467124552824 1.54467124552824 1.54467124552824; ...
0.1	2	3.80783051868944	4	      4.68317576388454 4.68317576388454 4.68317576388454; ...
0.5	4.3	3.50212427012241	3.4	      3.31243136899572 3.31243136899572 3.31243136899572; ...
0	-4	-8.05027763202994	-9	      -10.4667647364490 -10.4667647364490 -10.4667647364490];

ddtheta_max = deg2rad([10 10 10 10 10]);
k = 1.2;
dt = allowable_dt(ddtheta_max,theta,k);
for i = 1:5
    figure(i)
    [q,dq,ddq,t_b,t_jk] = trapz_traj(theta(i,:),dt);
    [q,dq,ddq] = whole_trajectory(q,dq,ddq,dt,t_b,t_jk,1);
end

